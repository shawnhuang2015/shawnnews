:q
/**
 * 1. Using neo4j movie data to  demo 
 *     - the permutation
 *     - use Separator, Header
 *     - clear graph store
 *     - see log
 */

-- demoPermutation_job.txt
create loading job demoPermutation_job for graph neo4j
 load "/vagrant/data/TestData/persons2.csv" to vertex person values ($2,$2,$1) using Separator="|", Header="true";
 load "/vagrant/data/TestData/movies.csv"  to vertex movie values ($0,$0,$1,$2,$3) using Separator=",", Header="true";
 load "/vagrant/data/TestData/roles.csv"  to edge roles values ($0,$1,$2) using Separator=",", Header="true";
end

clear graph store
run job  demoPermutation_job

-- backup log work/log/

-- compare with non-permutation one
clear graph store
run job  demoSimple_job

-- diff  the logs in work/log.


//2. Demo the token Bank with UDF token conversion function. Fixed Key type

create loading job demoTokenBank_job for graph neo4j
 load "/vagrant/data/TestData/persons.csv" to vertex person values ($0,$0,Reverse($1)) using Separator=",", Header="true";
 load "/vagrant/data/TestData/movies.csv"  to vertex movie values ($0,$0,$1,$2,Zero($3)) using Separator=",", Header="true";
 load "/vagrant/data/TestData/roles.csv"  to edge roles values ($0,$1,$2) using Separator=",", Header="true";
end


clear graph store
run job demoTokenBank_job

-- check the log

-- cusomtize a fixed key type.

//3. Demo sample lines feature





drop graph OLAP
create vertex AppLog (primary_id appID string, name string, ip string, downloadDate uint32)
create vertex ChannelLog (primary_id cookieID string, ip string, channel string compress, firstDownloadDate uint32)
create vertex AllDate (primary_id seed string, yearStart uint32, yearEnd uint32)
create vertex YYYY (primary_id yyyy string)
create vertex Quarter (primary_id yyyyq uint32, yyyy uint32, quarterth string compress)
create vertex Month (primary_id yyyymm uint32, yyyy uint32, mm string compress)
create undirected (AllDate - YYYY) edge AllDate_YYYY 
create undirected (YYYY - Quarter) edge YYYY_Quarter
create undirected (Quarter - Month) edge Quarter_Month 
create undirected (Month - AppLog) edge Month_AppLog

create vertex ALLChannel(primary_id seed string)
create vertex Ch1(primary_id cid string)
create vertex Ch2(primary_id ccid string)

create undirected (AllChannel - Ch1) edge AllChannel_Ch1
create undirected (Ch1 - Ch2) edge Ch1_Ch2 
create undirected (Ch2 - ChannelLog) edge Ch2_ChannelLog 


create undirected (YYY - ChannelLog) edge YYYY_ChannelLog 


create vertex AllApps(primary_id seed string)
create vertex OS(primary_id name string)
create vertex URL(primary_id link string)


create undirected (AllApps - OS) edge AllApps_OS
create undirected (OS - URL) edge OS_URL 
create undirected (URL - AppLog ) edge  URL_AppLog


create vertex AllIPs(primary_id seed string)
create vertex IPLevel2(primary_id region string)
create vertex IPLevel3(primary_id address string)

create undirected (AllIPs - IPLevel2) edge AllIPs_IPLevel2
create undirected (IPLevel2 - IPLevel3) edge IPLevel2_IPLevel3 
create undirected (IPLevel3 - AppLog ) edge  IPLevel3_AppLog
create undirected (IPLevel3 - ChannelLog ) edge  IPLevel3_ChannelLog




create graph OLAP (AppLog, AllDate, YYYY, Quarter, Month, AllIPs, IPLevel2, IPLevel3, AllIPs_IPLevel2, IPLevel2_IPLevel3, IPLevel3_AppLog, IPLevel3_ChannelLog, AllDate_YYYY ,YYYY_Quarter, Quarter_Month,Month_AppLog,AllChannel, Ch1, Ch2, AllChannel_Ch1, ChannelLog, Ch1_Ch2, Ch2_ChannelLog, AllApps, OS, URL, AllApps_OS, OS_URL, URL_AppLog)

